{"ast":null,"code":"var _jsxFileName = \"D:\\\\an3_facultate\\\\sem1\\\\IS\\\\laboratoare\\\\SocialApp-Fe\\\\social-media-front\\\\src\\\\components\\\\feed\\\\StorySlider\\\\StorySlider.tsx\",\n  _s = $RefreshSig$();\n// StorySlider.js\n\nimport React, { useState } from \"react\";\nimport Story from \"../../core/Story/Story\";\nimport SimpleModal from \"./SimpleModal\";\n\n// Updated props type to handle stories grouped by user\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst StorySlider = ({\n  stories\n}) => {\n  _s();\n  const [selectedUserIndex, setSelectedUserIndex] = useState(null);\n  const [selectedStoryIndex, setSelectedStoryIndex] = useState(null);\n  const handleUserClick = userIndex => {\n    setSelectedUserIndex(userIndex);\n    setSelectedStoryIndex(0); // Default to the first story of the user\n  };\n\n  const handleCloseModal = () => {\n    setSelectedUserIndex(null);\n    setSelectedStoryIndex(null);\n  };\n  const handlePrevStory = () => {\n    setSelectedStoryIndex(prevIndex => prevIndex !== null && prevIndex > 0 ? prevIndex - 1 : prevIndex);\n  };\n  const handleNextStory = () => {\n    if (selectedUserIndex === null || selectedStoryIndex === null) return;\n    const maxIndex = stories[selectedUserIndex].stories.length - 1;\n    setSelectedStoryIndex(prevIndex =>\n    // @ts-ignore\n    prevIndex < maxIndex ? prevIndex + 1 : prevIndex);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'row',\n        left: 0,\n        gap: 10,\n        padding: 10\n      },\n      children: stories.map((userStories, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => handleUserClick(index),\n        children: [/*#__PURE__*/_jsxDEV(Story, {\n          ...userStories.stories[0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this), \" \"]\n      }, userStories.user.userId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), selectedUserIndex !== null && selectedStoryIndex !== null && /*#__PURE__*/_jsxDEV(SimpleModal, {\n      isOpen: selectedUserIndex !== null,\n      handleClose: handleCloseModal,\n      handlePrev: handlePrevStory,\n      handleNext: handleNextStory,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: stories[selectedUserIndex].stories[selectedStoryIndex].photo,\n        alt: \"Story\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n};\n_s(StorySlider, \"NoXtaoL/LrvrJFXMsg1JGmStW94=\");\n_c = StorySlider;\nexport default StorySlider;\nvar _c;\n$RefreshReg$(_c, \"StorySlider\");","map":{"version":3,"names":["React","useState","Story","SimpleModal","jsxDEV","_jsxDEV","Fragment","_Fragment","StorySlider","stories","_s","selectedUserIndex","setSelectedUserIndex","selectedStoryIndex","setSelectedStoryIndex","handleUserClick","userIndex","handleCloseModal","handlePrevStory","prevIndex","handleNextStory","maxIndex","length","children","style","width","display","flexDirection","left","gap","padding","map","userStories","index","onClick","fileName","_jsxFileName","lineNumber","columnNumber","user","userId","isOpen","handleClose","handlePrev","handleNext","src","photo","alt","_c","$RefreshReg$"],"sources":["D:/an3_facultate/sem1/IS/laboratoare/SocialApp-Fe/social-media-front/src/components/feed/StorySlider/StorySlider.tsx"],"sourcesContent":["// StorySlider.js\r\n\r\nimport React, { useState } from \"react\";\r\nimport { StoryType } from \"../../../types/auth\";\r\nimport Story from \"../../core/Story/Story\";\r\nimport SimpleModal from \"./SimpleModal\";\r\n\r\n// Updated props type to handle stories grouped by user\r\ninterface StorySliderProps {\r\n    stories: {\r\n        user: any; // Assuming a user has at least 'userId' and 'username'\r\n        stories: StoryType[];\r\n    }[];\r\n}\r\n\r\nconst StorySlider: React.FC<StorySliderProps> = ({ stories }) => {\r\n    const [selectedUserIndex, setSelectedUserIndex] = useState<number | null>(null);\r\n    const [selectedStoryIndex, setSelectedStoryIndex] = useState<number | null>(null);\r\n\r\n    const handleUserClick = (userIndex: number) => {\r\n        setSelectedUserIndex(userIndex);\r\n        setSelectedStoryIndex(0); // Default to the first story of the user\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        setSelectedUserIndex(null);\r\n        setSelectedStoryIndex(null);\r\n    };\r\n\r\n    const handlePrevStory = () => {\r\n        setSelectedStoryIndex((prevIndex) =>\r\n            prevIndex !== null && prevIndex > 0 ? prevIndex - 1 : prevIndex\r\n        );\r\n    };\r\n\r\n    const handleNextStory = () => {\r\n        if (selectedUserIndex === null || selectedStoryIndex === null) return;\r\n        const maxIndex = stories[selectedUserIndex].stories.length - 1;\r\n\r\n\r\n        setSelectedStoryIndex((prevIndex) =>\r\n            // @ts-ignore\r\n            prevIndex < maxIndex ? prevIndex + 1 : prevIndex\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div style={{\r\n                width: '100%',\r\n                display: 'flex',\r\n                flexDirection: 'row',\r\n                left: 0,\r\n                gap: 10,\r\n                padding: 10\r\n            }}>\r\n                {stories.map((userStories, index) => (\r\n                    <div onClick={() => handleUserClick(index)} key={userStories.user.userId}>\r\n                        <Story {...userStories.stories[0]} /> {/* Display the first story as a preview */}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            {selectedUserIndex !== null && selectedStoryIndex !== null && (\r\n                <SimpleModal\r\n                    isOpen={selectedUserIndex !== null}\r\n                    handleClose={handleCloseModal}\r\n                    handlePrev={handlePrevStory}\r\n                    handleNext={handleNextStory}\r\n                >\r\n                    <img src={stories[selectedUserIndex].stories[selectedStoryIndex].photo} alt=\"Story\" />\r\n                </SimpleModal>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default StorySlider;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}