{"ast":null,"code":"import { request } from \"../../../components/core/Request/request\";\nimport { CONTENT_BASE_URL } from \"../../../utils/constants\";\nimport { createPostFailed, createPostSucces } from \"./reducers\";\nimport { Simulate } from \"react-dom/test-utils\";\nvar error = Simulate.error;\nexport const createPost = async ({\n  userId,\n  photo,\n  datePosted,\n  description,\n  dispatch\n}) => {\n  await request({\n    url: CONTENT_BASE_URL + '/addPost',\n    method: 'POST',\n    data: {\n      userId,\n      photo,\n      datePosted,\n      description\n    }\n  }).then(response => {\n    dispatch(createPostSucces());\n  }).catch(error => dispatch(createPostFailed(error.message)));\n};\nexport const createStory = async ({\n  userId,\n  photo,\n  datePosted,\n  dispatch\n}) => {\n  await request({\n    url: CONTENT_BASE_URL + '/addStory',\n    method: 'POST',\n    data: {\n      userId,\n      photo,\n      datePosted\n    }\n  }).then(() => {\n    dispatch(createPostSucces());\n  }).catch(error => dispatch(createPostFailed(error.message)));\n};","map":{"version":3,"names":["request","CONTENT_BASE_URL","createPostFailed","createPostSucces","Simulate","error","createPost","userId","photo","datePosted","description","dispatch","url","method","data","then","response","catch","message","createStory"],"sources":["D:/an3_facultate/sem1/IS/laboratoare/SocialApp-Fe/social-media-front/src/widgets/post-create-widget/model/effects.ts"],"sourcesContent":["import {PostProps, StoryProps} from \"./types\";\r\nimport {request} from \"../../../components/core/Request/request\";\r\nimport {CONTENT_BASE_URL} from \"../../../utils/constants\";\r\nimport {createPostFailed, createPostSucces} from \"./reducers\";\r\nimport {Simulate} from \"react-dom/test-utils\";\r\nimport error = Simulate.error;\r\n\r\n\r\n\r\nexport const createPost = async ({userId,photo,datePosted,description, dispatch}: PostProps) =>{\r\n    await request({\r\n        url: CONTENT_BASE_URL + '/addPost',\r\n        method:'POST',\r\n        data: {userId, photo, datePosted, description}\r\n    }).then((response)=>{\r\n        dispatch(createPostSucces());\r\n    }).catch((error)=>\r\n    dispatch(createPostFailed(error.message)))\r\n}\r\n\r\nexport const createStory = async ({userId, photo, datePosted,dispatch}:StoryProps ) =>{\r\n    await request({\r\n        url: CONTENT_BASE_URL+ '/addStory',\r\n        method: 'POST',\r\n        data: {userId, photo, datePosted}\r\n    }).then(()=>{\r\n        dispatch(createPostSucces());\r\n    }).catch((error) =>\r\n    dispatch(createPostFailed(error.message)))\r\n}"],"mappings":"AACA,SAAQA,OAAO,QAAO,0CAA0C;AAChE,SAAQC,gBAAgB,QAAO,0BAA0B;AACzD,SAAQC,gBAAgB,EAAEC,gBAAgB,QAAO,YAAY;AAC7D,SAAQC,QAAQ,QAAO,sBAAsB;AAAC,IACvCC,KAAK,GAAGD,QAAQ,CAACC,KAAK;AAI7B,OAAO,MAAMC,UAAU,GAAG,MAAAA,CAAO;EAACC,MAAM;EAACC,KAAK;EAACC,UAAU;EAACC,WAAW;EAAEC;AAAmB,CAAC,KAAI;EAC3F,MAAMX,OAAO,CAAC;IACVY,GAAG,EAAEX,gBAAgB,GAAG,UAAU;IAClCY,MAAM,EAAC,MAAM;IACbC,IAAI,EAAE;MAACP,MAAM;MAAEC,KAAK;MAAEC,UAAU;MAAEC;IAAW;EACjD,CAAC,CAAC,CAACK,IAAI,CAAEC,QAAQ,IAAG;IAChBL,QAAQ,CAACR,gBAAgB,CAAC,CAAC,CAAC;EAChC,CAAC,CAAC,CAACc,KAAK,CAAEZ,KAAK,IACfM,QAAQ,CAACT,gBAAgB,CAACG,KAAK,CAACa,OAAO,CAAC,CAAC,CAAC;AAC9C,CAAC;AAED,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAO;EAACZ,MAAM;EAAEC,KAAK;EAAEC,UAAU;EAACE;AAAmB,CAAC,KAAK;EAClF,MAAMX,OAAO,CAAC;IACVY,GAAG,EAAEX,gBAAgB,GAAE,WAAW;IAClCY,MAAM,EAAE,MAAM;IACdC,IAAI,EAAE;MAACP,MAAM;MAAEC,KAAK;MAAEC;IAAU;EACpC,CAAC,CAAC,CAACM,IAAI,CAAC,MAAI;IACRJ,QAAQ,CAACR,gBAAgB,CAAC,CAAC,CAAC;EAChC,CAAC,CAAC,CAACc,KAAK,CAAEZ,KAAK,IACfM,QAAQ,CAACT,gBAAgB,CAACG,KAAK,CAACa,OAAO,CAAC,CAAC,CAAC;AAC9C,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}